import{u as N,m as V,e as h,n as A,p as D,r as f,k as b,o as n,c as x,w as d,b as c,d as w,h as M,q as R,a as l,F as v,t as p,j as $,s as S,f as B,x as E,g as k,y as F}from"./index.b7ffcc38.js";const H=["value","id"],L=["for"],T=l("em",{class:"icon-arrow"},null,-1),j={__name:"menu",props:{menu:{type:Array,default(){return[]}}},setup(y){const i=y,s=N(),t=V(()=>i.menu.filter(e=>!e.meta||!e.meta.hidden)),o=h([]),_=()=>{const{matched:e}=s;e.length>1&&(o.value=[e[1].name])};A(()=>{_()}),D(()=>t.value,e=>{_()});function r(e){if(e.children.length<1)return 0;let g=e.children.filter(m=>!m.meta||!m.meta.hidden);return`${50*g.length}px`}return(e,g)=>{const m=f("router-link"),C=f("v-scroll");return b(t).length?(n(),x(C,{key:0,class:"menu"},{default:d(()=>[(n(!0),c(v,null,w(b(t),a=>(n(),c("div",{class:"menu-nav",key:a.name},[M(l("input",{class:"nav-list-toggle",value:a.name,"onUpdate:modelValue":g[0]||(g[0]=u=>o.value=u),type:"checkbox",id:a.name},null,8,H),[[R,o.value]]),a.children&&a.children.length?(n(),c(v,{key:0},[l("label",{class:"nav-title nav-item",for:a.name},[l("p",null,p(a.meta.title),1),T],8,L),l("div",{class:"nav-list",style:S({maxHeight:r(a)})},[(n(!0),c(v,null,w(a.children,u=>(n(),c(v,{key:u.name},[!u.meta||!u.meta.hidden?(n(),x(m,{key:0,to:{name:u.name},class:"nav-item"},{default:d(()=>[l("p",null,p(u.meta.title),1)]),_:2},1032,["to"])):$("",!0)],64))),128))],4)],64)):(n(),x(m,{key:1,to:{name:a.name},class:"nav-item nav-title"},{default:d(()=>[l("p",null,p(a.meta.title),1)]),_:2},1032,["to"]))]))),128))]),_:1})):$("",!0)}}};const q={class:"bread-nav"},z=l("span",{class:"nav-icon"},"\u5F53\u524D\u4F4D\u7F6E:",-1),U={__name:"bread-nav",props:{nav:{type:Array,default(){return[]}}},setup(y){const i=y,s=h([]),t=h({});return B(()=>{if(i.nav.length<1){s.value=[],t.value={};return}s.value=[...i.nav],t.value=s.value.pop()}),(o,_)=>{const r=f("router-link");return n(),c("div",q,[z,(n(!0),c(v,null,w(s.value,e=>(n(),x(r,{to:e,key:e.name},{default:d(()=>[E(p(e.meta.title),1)]),_:2},1032,["to"]))),128)),l("span",null,p(t.value.meta.title),1)])}}};const G={class:"layout"},I={class:"main"},K={__name:"layout",setup(y){const i=N(),s=h([]),t=h([]);return B(()=>{const{matched:o}=i,_=t.value[0]?t.value[0].name:"";if(t.value=o,_===o[0].name)return;const r=F.find(e=>e.name===o[0].name);r&&(s.value=r.children?r.children:[])}),(o,_)=>{const r=f("router-view"),e=f("v-scroll");return n(),c("div",G,[k(j,{menu:s.value},null,8,["menu"]),l("div",I,[k(U,{nav:t.value},null,8,["nav"]),k(e,{class:"main-scroll","view-class":"main-scroll-view"},{default:d(()=>[k(r)]),_:1})])])}}};export{K as default};
