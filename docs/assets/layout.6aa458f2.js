import{u as N,l as V,e as g,m as z,n as A,r as _,p as w,o as a,c as y,w as p,b as s,d as k,i as D,q as M,a as o,F as d,t as h,j as $,s as R,f as B,x as S,h as b,y as E}from"./index.e55bfb45.js";const F=["value","id"],H=["for"],L=o("em",{class:"icon-arrow"},null,-1),T={__name:"menu",props:{menu:{type:Array,default(){return[]}}},setup(f){const u=f,r=N(),t=V(()=>u.menu.filter(e=>!e.meta||!e.meta.hidden)),l=g([]),m=()=>{const{matched:e}=r;e.length>1&&(l.value=[e[1].name])};z(()=>{m()}),A(()=>t.value,e=>{m()});function i(e){if(e.children.length<1)return 0;let x=e.children.filter(v=>!v.meta||!v.meta.hidden);return`${50*x.length}px`}return(e,x)=>{const v=_("router-link"),C=_("v-scroll");return w(t).length?(a(),y(C,{key:0,class:"menu"},{default:p(()=>[(a(!0),s(d,null,k(w(t),n=>(a(),s("div",{class:"menu-nav",key:n.name},[D(o("input",{class:"nav-list-toggle",value:n.name,"onUpdate:modelValue":x[0]||(x[0]=c=>l.value=c),type:"checkbox",id:n.name},null,8,F),[[M,l.value]]),n.children&&n.children.length?(a(),s(d,{key:0},[o("label",{class:"nav-title nav-item",for:n.name},[o("p",null,h(n.meta.title),1),L],8,H),o("div",{class:"nav-list",style:R({maxHeight:i(n)})},[(a(!0),s(d,null,k(n.children,c=>(a(),s(d,{key:c.name},[!c.meta||!c.meta.hidden?(a(),y(v,{key:0,to:{name:c.name},class:"nav-item"},{default:p(()=>[o("p",null,h(c.meta.title),1)]),_:2},1032,["to"])):$("",!0)],64))),128))],4)],64)):(a(),y(v,{key:1,to:{name:n.name},class:"nav-item nav-title"},{default:p(()=>[o("p",null,h(n.meta.title),1)]),_:2},1032,["to"]))]))),128))]),_:1})):$("",!0)}}};const j={class:"bread-nav"},q=o("span",{class:"nav-icon"},"\u5F53\u524D\u4F4D\u7F6E:",-1),U={__name:"bread-nav",props:{nav:{type:Array,default(){return[]}}},setup(f){const u=f,r=g([]),t=g({});return B(()=>{if(u.nav.length<1){r.value=[],t.value={};return}r.value=[...u.nav],t.value=r.value.pop()}),(l,m)=>{const i=_("router-link");return a(),s("div",j,[q,(a(!0),s(d,null,k(r.value,e=>(a(),y(i,{to:e,key:e.name},{default:p(()=>[S(h(e.meta.title),1)]),_:2},1032,["to"]))),128)),o("span",null,h(t.value.meta.title),1)])}}};const G={class:"layout"},I={class:"main"},K={__name:"layout",setup(f){const u=N(),r=g([]),t=g([]);return B(()=>{const{matched:l}=u,m=t.value[0]?t.value[0].name:"";if(t.value=l,m===l[0].name)return;const i=E.find(e=>e.name===l[0].name);i&&(r.value=i.children?i.children:[])}),(l,m)=>{const i=_("router-view"),e=_("v-scroll");return a(),s("div",G,[b(T,{menu:r.value},null,8,["menu"]),o("div",I,[b(U,{nav:t.value},null,8,["nav"]),b(e,{class:"main-scroll","view-class":"main-scroll-view"},{default:p(()=>[b(i)]),_:1})])])}}};export{K as default};
